# Фича получения отдела

## Описание:

Получение отдела по id. Включает в себя загрузку данных с сервера и отрисовку.

Один отдел может состоять из нескольких отделов (и иметь вложенные отделы), поэтому при загрузке данных мы полчаем массив отделов.

Содержит реализацию логики сворачивания\разворачивания сразу всех списков персон на странице.

### Components:

`Department` - Отрисовка одного отдела.
`GetDepartment` - Главный компонент. Отрисовка родительских отделов по id.

### Services:

`fetchDepartment` - Загрузка данных об отделе в сервера по id (загружает массив отделов)

### Store:

`DepartmentStore` - mobX сотор, для хранения данных о загруженных отделах, списке карточек оргЮнитов на странице (и их статусе открытия\закрытия карточки, сворачивания\разворачивания списка персон относящихся к отделу), флага изменяющего статус сворачивания\разворачивания всех список персон на странице

### Types:

`orgUnitsCardType` - Тип для хранения связывания оргЮнита со стором карточного статуса по id (например чтобы можно было находить карточку орг юнита по id и менять статус сворачивания\разворачивания списка персон. Этим путем реализован функционал сворачивания\разворачивания всех списков персон на странице)

### Lib:

`useOrgUnitCardStore` - Хук, возвращающий массив сторов карточек со статусами. Нужен для избежания перерисовок, ошибок монтирования в несмонтированный компонент (mobX errors) и для избежания лишних пересозданий сторов, в случае их существования.

`getOrgUnitCardStore` - Проверка существует ли mobX стор со связкой id оргЮнита и статусов. Если да - возвращает его, если нет - создаёт новый.

`createOrgUnitCardStore` - Создание нового mobX стора со связкой id оргЮнита и статусов в её карточки (открытия\закрытия карточки, сворачивания\разворачивания списка персон относящихся к этому оргЮниту)

### Anim:

`CollapsingPersonListAnimation` - Анимация сворачивания\разворачивания списка персон входящих в оргЮнит
`OpeningPageAnimation` - Анимация открытия страницы с отделами
