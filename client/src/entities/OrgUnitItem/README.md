## Сущность ОргЮнита

## Описание:

Все что касается сущности ОргЮнита

Согласно серверу может иметь несколько уровней вложенности (поле nestingLevel). Один отдел может состоять из нескольких отделов (и иметь вложенные отделы), поэтому при загрузке данных мы полчаем массив отделов (например Отдел\Бюро\Группа и прочее...).

Представлена логика по загрузке ОргЮнита с сервера(по id) и компонеты для отрисовки (всего оргюнита, с вложенными оргюнитами и расширяемая карточка ОргЮнита)

### UI:

#### OrgUnitCreationCard

- `OrgUnitCreationCard` - Карточка создания оргЮнита.
    Принимает сверху:
        - 'className' - проброс класса сверху
        - 'orgUnitsList' - массив опций для селекта с выбором родительского оргЮнита
        - 'resetFlag' - флаг, для сброса данных
        - 'setOrgUinitData' - функция установки введённых данных

#### OrgUnitEditView

- `OrgUnitEditView` - Отрисовка редактируемой информации об ОргЮните. 
Принимает сверху:
    - 'className' - проброс класса сверху
    - 'orgUnit' - данные об оргЮните для отрисовки

- `OrgUnitInfoBlock` - Основная информация об оргЮните.
Принимает сверху:
    - 'className' - проброс класса сверху
    - 'orgUnit' - данные об оргЮните для отрисовки
    - 'isEdit' - флаг редактируемости
    - 'isCancelled' - флаг отмены введённых изменений
    - 'setUpdatedOrgUnit' - функция установки измененных данных об оргЮните

- `OrgUnitServiceBlock` - Сервисная информация об оргЮните.
Принимает сверху:
    - 'className' - проброс класса сверху
    - 'orgUnit' - данные об оргЮните для отрисовки

#### OrgUnitFullView

- `OrgUnitFullView` - Отрисовка ОргЮнита (вместе со всеми вложенными). Содержит реализацию логики сворачивания\разворачивания сразу всех списков персон на странице и сворачивания открытых карточек OrgUnitItemViewCard.
Принимает сверху:
    - 'className' - проброс класса сверху
    - 'orgUnitItem' - оргЮнит для отрисовки
    - 'cardStore' - mobX стор со статусами сворачивания\разворачивания списка персон и и карточки (у текущего оргЮнита)
    - 'orgUnitStore' - mobX стор с родительским (главным) оргЮнитом

- `CollapsingPersonListAnimation` - Анимация сворачивания\разворачивания списка персон входящих в оргЮнит

#### OrgUnitItemViewCard 

- `OrgUnitItemView` - Главный компонент-соеденитель краткого и детального отображения оргюнита в карточке. (Сворачиваемая\разворачиваемая карточка оргюнита)

    Принимает сверху:
        - 'className' - проброс класса сверху
        - 'orgUnitItem' - оргЮнит для отрисовки
        - 'cardStore' - mobX стор со статусами сворачивания\разворачивания списка персон и и карточки (у текущего оргЮнита)

- `OrgUnitItemShort` - Компонент с кратким описанием оргюнита (имя и описание). Имеет в себе кнопку свернуть\развернуть (- и +), для сворачивания\разворачивания списка персон под карточкой. По нажатию на имя\описание открывает детальный вид.
        Принимает сверху:
            - 'className' - проброс класса сверху
            - 'orgUnitItem' - оргЮнит для отрисовки
            - значение и функцию isOpen, setIsOpen - для сворачивания\разворачивания 
            детального вида карточки

- `OrgUnitDetails` - Компонент с детальным описанием оргюнита.
        Принимает сверху:
            - 'className' - проброс класса сверху
            - 'orgUnitItem' - оргЮнит для отрисовки

### Models

#### Lib:

- `useOrgUnitCardStore` - Хук, возвращающий массив сторов карточек со статусами. Нужен для избежания перерисовок, ошибок монтирования в несмонтированный компонент (mobX errors) и для избежания лишних пересозданий сторов, в случае их существования.

- `getOrgUnitCardStore` - Проверка существует ли mobX стор со связкой id оргЮнита и статусов. Если да - возвращает его, если нет - создаёт новый.

- `createOrgUnitCardStore` - Создание нового mobX стора со связкой id оргЮнита и статусов в её карточки (открытия\закрытия карточки, сворачивания\разворачивания списка персон относящихся к этому оргЮниту)

#### Services:

- `createOrgUnitItem` - Отправка данных на сервер для создания оргЮнита
- `deleteOrgUnit` - Отправка данных на сервер для удаления оргЮнита
- `updateOrgUnitItem` - Отправка данных на сервер для обновлении информации об оргЮните
- `fetchOrgUnitItem` - Логика загрузки данных об отделе с сервера по id (помещает в созданный стор, который принимает параметром)


#### Store

- `OrgUnitViewStore` - класс для создания mobX стора с хранением значения статуса списка персон у карточки (свернут\развернут). Необходим для того чтобы при создании нескольких оргюнитов на страницы, можно было создавать состояние для кажлого оргюнита и передавать стор в глобальный список сторов с состояниями всех карточек на странице (чтобы потом можно было сворачивать\разворачивать одновременно все)

- `OrgUnitStore` - класс для создания mobX стора, для хранения данных о загруженных отделах, списке карточек оргЮнитов на странице (и их статусе открытия\закрытия карточки, сворачивания\разворачивания списка персон относящихся к отделу), флага изменяющего статус сворачивания\разворачивания всех список персон на странице

#### Types:

- `OrgUnitItem` - Тип, описывающий оргюнита, получаемого с сервера

- `OrgUnitsCardType` - Тип для хранения связывания оргЮнита со стором карточного статуса по id (например чтобы можно было находить карточку орг юнита по id и менять статус сворачивания\разворачивания списка персон. Этим путем реализован функционал сворачивания\разворачивания всех списков персон на странице)

- `OrgUnitUpdateData` - Тип, описывающий данные для обновления оргЮнита

- `OrgUnitCreateData` - Тип, описывающий данные для создания оргЮнита
