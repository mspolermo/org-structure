# Сущность Персоны

## Описание:
Все что касается сущности персоны (сотрудника организации)

### UI:

#### PersonViewCard 

- `PersonViewCard` - Главный компонент-соеденитель краткого и детального отображения персоны в карточке. (Сворачиваемая\разворачиваемая карточка персоны)

    Принимает сверху:
        - 'className' - проброс класса сверху
        - 'person' - персону для отрисовки
        - 'store' - mobX стор персоны, типа PersonStore

- `PersonShortView` - Компонент с кратким описанием персоны. По нажатию на имя\описание открывает детальный вид.
        Принимает сверху:
            - 'className' - проброс класса сверху
            - 'person' - персону для отрисовки
            - значение и функцию isOpen, setIsOpen - для сворачивания\разворачивания 
            детального вида карточки

- `PersonDetalesView` - Компонент с детальным описанием оргюнита.
        Принимает сверху:
            - 'className' - проброс класса сверху
            - 'person' - персону для отрисовки

#### PersonSearchCard 

- `PersonSearchCard` - Карточка персоны для отображения в поисковой выдаче
    Принимает сверху:
        - 'className' - проброс класса сверху
        - 'person' - персону для отрисовки
        - 'department' - guid оргюнита персоны
        - 'onClick' - функция по клику на карточку

#### PersonFullView

- `PersonFullView` - Главный компонент-соеденитель блока с карточками для вывода полной информации о персоне. В зависимости от типа ('edit'/'view') позволяет редактировать все данные сотрудника.
    Принимает сверху:
        - 'className' - проброс класса сверху
        - 'person' - персона для отрисовки
        - 'personDetales' - детализация персоны
        - 'type' - тип отображения компонента ('edit' - с возможностью редактировать, 'view' - только для просмотра)

- `PersonServiceBlock` - Блок отображения сервисной информации о сотрудника
    Принимает сверху:
        - 'className' - проброс класса сверху
        - 'person' - персону для отрисовки

- `PersonInfoBlock` - Блок отображения/редактирования основной информации сотрудника
    Принимает сверху:
        - 'className' - проброс класса сверху
        - 'person' - персону для отрисовки
        - 'isEdit' - флаг доступности полей для редактирования
        - 'isCancelled' - флаг отмены всех изменений и возврата к дефолтным значениям с сервера
        - 'setUpdatedPerson' - функция установки отредактировваных данных

- `PersonDetalesBlock` - Блок отображения/редактирования детализации сотрудника
    Принимает сверху:
        - 'className' - проброс класса сверху
        - 'personDetales' - детализация персоны
        - 'isEdit' - флаг доступности полей для редактирования
        - 'isCancelled' - флаг отмены всех изменений и возврата к дефолтным значениям с сервера
        - 'setUpdatedPerson' - функция установки отредактировваных данных


### Model:

#### Services:

`fetchPerson` - Логика загрузки данных о конкретной персоне (сотруднике) с сервера по id (помещает в созданный стор, который принимает параметром)

`fetchPersonDetales` - Логика загрузки детализации (используемое оборудование, пройденные курсы и прочее) о конкретной персоне (сотруднике) с сервера по id (помещает в созданный стор, который принимает параметром)

`updatePersonWithDetales` - Логика обновления данных и детализации персоны на сервере по id

`searchPersons` - Логика поиска и загрузки персон 

#### Store

- `PersonStore` - класс для создания mobX стора, для хранения данных о сотруднике, детализации сотрудника и статуса сворачивания\разворачивания карточки персоны (для представления в OrgUnitFullView). Содержит логику изменения этих данных

### Types:

- `Person` - Тип, описывающий персону (получаемые с сервера данные)

- `PersonDetales` - Тип, описывающий детализацию персоны (получаемые с сервера данные)

- `PersonUpdateData` - Тип, описывающий данные для обновления персоны

- `PersonDetalesUpdateData` - Тип, описывающий данные для обновления детализации персоны

- `PersonFullUpdateData` - Тип для отправки данных о персоне и его детализации на сервер
